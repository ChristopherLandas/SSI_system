CREATE DATABASE ssi;

CREATE TABLE login_report(attempt_usn VARCHAR(128) COLLATE LATIN1_GENERAL_CS, usn_used VARCHAR(128) NOT NULL, date_created DATETIME NOT NULL, FOREIGN KEY(attempt_usn) REFERENCES acc_cred(usn)) COLLATE = LATIN1_GENERAL_CI
CREATE TABLE user_level_access (Title VARCHAR(32) PRIMARY KEY, add_item INT (1) NOT NULL) COLLATE = LATIN1_GENERAL_CI

CREATE TABLE acc_cred (usn VARCHAR(128) PRIMARY KEY, pss VARCHAR(128) NOT NULL COLLATE LATIN1_GENERAL_CI, slt VARCHAR (64) NOT NULL COLLATE LATIN1_GENERAL_CI, entry_OTP varchar(128) COLLATE LATIN1_GENERAL_CI ) COLLATE LATIN1_GENERAL_CS;
CREATE TABLE acc_info(usn VARCHAR(128) PRIMARY KEY, full_name VARCHAR(128) NOT NULL COLLATE LATIN1_GENERAL_CI, job_position VARCHAR(32) NOT NULL COLLATE LATIN1_GENERAL_CI, FOREIGN KEY(usn) REFERENCES acc_cred(usn), FOREIGN KEY(job_position) REFERENCES user_level_access(Title)) COLLATE LATIN1_GENERAL_CS;
CREATE TABLE log_history (usn VARCHAR(128) NOT NULL, date_logged DATE NOT NULL, time_in TIME NOT NULL, time_out TIME NOT NULL, FOREIGN KEY (usn) REFERENCES acc_cred(usn)) COLLATE LATIN1_GENERAL_CS;
CREATE TABLE action_history (usn VARCHAR(128) PRIMARY KEY, ACTION VARCHAR (256) NOT NULL COLLATE LATIN1_GENERAL_CI, action_date DATE NOT NULL, FOREIGN KEY (usn) REFERENCES acc_cred(usn)) COLLATE LATIN1_GENERAL_CS;

CREATE TABLE Item_General_Info (UID VARCHAR(6) PRIMARY KEY, name VARCHAR(64) NOT NULL, Category VARCHAR(64) NOT NULL, does_expire INT(1) NOT NULL) COLLATE LATIN1_GENERAL_CI;
CREATE TABLE Item_Inventory_Info (UID VARCHAR(6) NOT NULL, Stock INT NOT NULL, Expiry_Date DATE, FOREIGN KEY (UID) REFERENCES Item_General_Info(UID)) COLLATE LATIN1_GENERAL_CI;
CREATE TABLE Item_Supplier_Info (UID VARCHAR(6) PRIMARY KEY, Supplier VARCHAR(64) NOT NULL, Contacts VARCHAR(64) NOT NULL, FOREIGN KEY (UID) REFERENCES Item_General_Info(UID)) COLLATE LATIN1_GENERAL_CI;
CREATE TABLE item_settings (UID VARCHAR(6) PRIMARY KEY, Cost_Price FLOAT NOT NULL, Markup_Factor FLOAT NOT NULL, Reorder_factor FLOAT NOT NULL, Crit_factor FLOAT NOT NULL, Safe_stock INT NOT NULL, FOREIGN KEY (UID) REFERENCES Item_General_Info(UID)) COLLATE LATIN1_GENERAL_CI;

CREATE TABLE service_info (UID VARCHAR(6) PRIMARY KEY, service_name VARCHAR(256) NOT NULL, Item_needed VARCHAR(512) NOT NULL, price FLOAT NOT NULL, state INT(1) NOT NULL) COLLATE LATIN1_GENERAL_CI;
CREATE TABLE transaction_record (transaction_uid VARCHAR(8) NOT NULL, Attendant_usn VARCHAR(128) NOT NULL COLLATE LATIN1_GENERAL_CS, client_name VARCHAR(50) NOT NULL, Total_amount FLOAT NOT NULL, transaction_date DATE NOT NULL, FOREIGN KEY (Attendant_usn) REFERENCES acc_cred(usn)) COLLATE= LATIN1_GENERAL_CI;
CREATE TABLE item_transaction_content (transaction_uid VARCHAR(8) NOT NULL, Item_uid VARCHAR(6) NOT NULL, item_name VARCHAR(64) NOT NULL, quantity INT(11) NOT NULL, price FLOAT NOT NULL, deduction FLOAT NOT NULL) COLLATE= LATIN1_GENERAL_CI;
CREATE TABLE services_transaction_content(transaction_uid VARCHAR(8) NOT NULL, service_uid VARCHAR(6) NOT NULL, service_name VARCHAR(64) NOT NULL, patient_name VARCHAR(128) NOT NULL, scheduled_date DATE NOT NULL, price FLOAT NOT NULL, deduction FLOAT NOT NULL, status INT(11) NOT NULL)COLLATE='latin1_general_ci';